## UDP和TCP

### TCP 与 UDP 的区别

| TCP                    | UDP            |            |
| ---------------------- | -------------- | ---------- |
| 是否面向连接           | 是             | 否         |
| 是否可靠               | 是             | 否         |
| 是否有状态             | 是             | 否         |
| 传输效率               | 较慢           | 较快       |
| 传输形式               | 字节流         | 数据报文段 |
| 首部开销               | 20 ～ 60 bytes | 8 bytes    |
| 是否提供广播或多播服务 | 否             | 是         |

### 使用 TCP 的协议有哪些?使用 UDP 的协议有哪些?

**UDP 一般用于即时通信**，

**TCP 用于对传输准确性要求特别高的场景**，

![image-20220823202337972](https://picture.lingzero.cn/img/202208232059095.png)

### TCP三次握手和四次挥手

![image-20220823204929822](https://picture.lingzero.cn/img/202208232059096.png)

![image-20220823205800423](https://picture.lingzero.cn/img/202208232059097.png)

![image-20220823205950581](https://picture.lingzero.cn/img/202209190023665.png)

![image-20220823210439513](https://picture.lingzero.cn/img/202208232105594.png)

![image-20220823210449344](https://picture.lingzero.cn/img/202208232105221.png)

![image-20220823210503598](https://picture.lingzero.cn/img/202208232105759.png)

### 为什么TIME-WAIT需要等待2MSL？

![image-20220826223955797](https://picture.lingzero.cn/img/202209190023666.png)

### TCP 如何保证传输的可靠性？

1. **以字节为单位的滑动窗口**：给每个包一个序列号，有了序列号能够将接收到的数据根据序列号排序，并且去掉重复序列号的数据就可以实现数据包去重。
2. **超时重传** : 当发送方发送数据之后，它启动一个定时器，等待目的端确认收到这个报文段。接收端实体对已成功收到的包发回一个相应的确认信息（ACK）。如果发送端实体在合理的往返时延（RTT）内未收到确认消息，那么对应的数据包就被假设为[已丢失open in new window](https://zh.wikipedia.org/wiki/丢包)并进行重传。
3. **选择性确认 S ACK**：保证收到的报文无差错
4. **校验和**：，目的是检测数据在传输过程中的任何变化。如果收到段的检验和有差错，TCP 将丢弃这个报文段和不确认收到此报文段。
5. **流量控制** :滑动窗口实现流量控制。流量控制是为了控制发送方发送速率，保证接收方来得及接收
6. **拥塞控制**：慢开始(slow-start)、拥塞避免(congestion avoidance)>快重传(fhst retransmit)和快恢复(fhst 、recovery）

![TCP的拥塞控制](https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/cs-basics/network/tcp-congestion-control.png)

### 什么事TCP粘包，如何解决粘包？

TCP面向字节流，可能会组合或者拆分应用层协议的数据，粘包是应用层错误设计导致的

解决：

1. 基于长度的标识
2. 基于特殊的分隔符

## HTTP

### 从输入URL 到页面展示到底发生了什么？

![img](https://picture.lingzero.cn/img/202208232135120.jpeg)

![DNS解析过程](https://segmentfault.com/img/bVDM45?w=1928&h=1248)

### 请描述常见的HTTP请求方法与使用场景?





### HTTP 状态码有哪些？

HTTP 状态码用于描述 HTTP 请求的结果，比如2xx 就代表请求被成功处理。

![HTTP 状态码](https://picture.lingzero.cn/img/202208232224393.png)

#### 2XX成功

![image-20220823224041574](https://picture.lingzero.cn/img/202208262109331.png)

![image-20220823224124257](https://picture.lingzero.cn/img/202208262109332.png)

204 PUT方法

![image-20220823224155435](https://picture.lingzero.cn/img/202208262109333.png)

#### 3XX 重定向

![image-20220823224822186](https://picture.lingzero.cn/img/202208262109334.png)

![image-20220823224451406](https://picture.lingzero.cn/img/202208262109335.png)

![image-20220823224507937](https://picture.lingzero.cn/img/202208262109336.png)

![image-20220823224614822](https://picture.lingzero.cn/img/202208262109337.png)

![image-20220823224647583](https://picture.lingzero.cn/img/202208262109338.png)

#### 4xx 客户端错误

![image-20220823224933336](https://picture.lingzero.cn/img/202208262109339.png)

![image-20220823224949165](https://picture.lingzero.cn/img/202208262109340.png)

![image-20220823225005000](https://picture.lingzero.cn/img/202208262109341.png)

![image-20220823225111978](https://picture.lingzero.cn/img/202208262109342.png)

#### 5xx 服务器错误

![image-20220823225213734](https://picture.lingzero.cn/img/202208262109343.png)

- **502 Bad Gateway** ：我们的网关将请求转发到服务端，但是服务端返回的却是一个错误的响应。

![image-20220823225233790](https://picture.lingzero.cn/img/202208262109344.png)

![image-20220823225338717](https://picture.lingzero.cn/img/202208262109345.png)

## DNS

### DNS是什么？

**将人类可读的域名 (例如，www.baidu.com) 转换为机器可读的 IP 地址**

### DNS解析过程？

![image-20220823215538924](https://picture.lingzero.cn/img/202208232159090.png)



## 网络安全

### 浏览器在使用HTTPS传输数据的流程是什么？

![img](https://picture.lingzero.cn/img/202208262146543.jpeg)

1. 首先客户端通过URL访问服务器建立SSL连接。
2. 服务端收到客户端请求后，会将网站支持的证书信息（证书中包含公钥）传送一份给客户端。
3. 客户端的服务器开始协商SSL连接的安全等级，也就是信息加密的等级。
4. 客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。
5. 服务器利用自己的私钥解密出会话密钥。
6. 服务器利用会话密钥加密与客户端之间的通信。

### HTTP 和 HTTPS 有什么区别？（重要）

- **端口号** ：HTTP 默认是 80，HTTPS 默认是 443。
- **URL 前缀** ：HTTP 的 URL 前缀是 `http://`，HTTPS 的 URL 前缀是 `https://`。
- **安全性和资源消耗** ： HTTP 协议运行在 TCP 之上，所有传输的内容都是明文，客户端和服务器端都无法验证对方的身份。HTTPS 是运行在 SSL/TLS 之上的 HTTP 协议，SSL/TLS 运行在 TCP 之上。所有传输的内容都经过加密，加密采用对称加密，但对称加密的密钥用服务器方的证书进行了非对称加密。所以说，HTTP 安全性没有 HTTPS 高，但是 HTTPS 比 HTTP 耗费更多服务器资源。